from __future__ import division
import MySQLdb
import numpy as np
import re
from time import gmtime, strftime
from datetime import datetime
import matplotlib.pyplot as plt
from collections import Counter

conn = MySQLdb.connect(host = "localhost", user = "root", passwd = "dealer1073.",
                       db = "aetos", port = 3306, charset = "utf8")
cur = conn.cursor(cursorclass = MySQLdb.cursors.DictCursor)
cur.execute('select * from client_statement')
lines = cur.fetchall()

symbol_index = ['audusd','eurusd','gbpusd','usdjpy','usdcad','usdchf','nzdusd',
                'audcad','audchf','audjpy','audnzd','cadchf','cadjpy','chfjpy',
                'euraud','eurcad','eurchf','eurgbp','eurjpy','eurnzd','gbpaud',
                'gbpchf','gbpcad','gbpjpy','gbpnzd','nzdjpy','xauusd','xagusd',
                'usoil','us30','nas100','spx500','copper','dxy']

volume_index = [[] for i in range(len(symbol_index))]

for i in volume_index:
    i = symbol_index[i]



symbol_volume = dict(zip(symbol_index,volume_index))

for line in lines:
    if line['Symbol'] == symbol_volume(keys):
        volume_eurusd.append(line['Volume'])
    elif line['Symbol'] == 'audusd':
        volume_audusd.append(line['Volume'])
